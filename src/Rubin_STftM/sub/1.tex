\chapter{Class algebra}

\section{Class}


\begin{dfn}[][][$x$ is a set/proper class]
  \begin{thmlist}
    \item
    \mylabel{Dfn_M}
    $
      \M{x} \defn ∃ y \ (x ∈ y)
    $
    \item
    \mylabel{Dfn_Pr}
    $
      \Pr{x} \defn ¬ \M{x}
    $
  \end{thmlist}
\end{dfn}


\begin{prp}[Thm_elem_is_set]
  $
    x ∈ y \ra \M{x}
  $
  \tcblower
  \begin{prf}
    \step{
      show,
      by = {rcmrq, Dfn_M},
      fml = {$\M{x}$},
    }
      \step{
        by = {2qwn5},
        fml = {$∃ y \ (x ∈ y)$},
        label = {rcmrq},
        tab = 1,
      }
    \step{
      assume,
      fml = {$x ∈ y$},
      label = {2qwn5},
    }
  \end{prf}
\end{prp}


\begin{axm}[Axm_ext][][Axiom of Extensionality]
  $
    ∀ u \ (u ∈ x \lra u ∈ y) \ra x = y
  $
\end{axm}


\begin{dfn}[][][$x$ is a subclass/proper subclass of $y$]
  \begin{thmlist}
    \item
    \mylabel{Dfn_Sbc}
    $
      x ⊆ y \defn ∀ u \ (u ∈ x \ra u ∈ y)
    $
    \item
    \mylabel{Dfn_Psbc}
    $
      x ⊂ y \defn x ⊆ y ∧ x ≠ y
    $
  \end{thmlist}
\end{dfn}


\begin{prp}
  \begin{thmlist}
    \item
    \mylabel{Thm_Sbc_is_reflRel}
    $
      x ⊆ x
    $
    \item
    \mylabel{Thm_Sbc_is_transRel}
    $
      x ⊆ y ⊆ z \ra x ⊆ z
    $
    \item
    \mylabel{Thm_Sbc_is_antisymRel}
    $
      x ⊆ y ⊆ x \ra x = y
    $
  \end{thmlist}
  \tcblower
  \begin{thmlist}
    \item
    \begin{prf}
      \step{
        show,
        by = {a3b3n, Dfn_M},
        fml = {$x ⊆ x$},
      }
        \step{
          fml = {$∀ u \ (u ∈ x \ra u ∈ x)$},
          label = {a3b3n},
          tab = 1,
        }
    \end{prf}
    \item
    \begin{prf}
      \step{
        show,
        fml = {$x ⊆ z$},
        by = {q8oe8},
      }
        \step{
          by = {04lc9},
          fml = {$∀ u \ (u ∈ x \ra u ∈ z)$},
          label = {q8oe8},
          tab = 1,
        }
        \step{
          by = {8hjjr},
          fml = {
            $
              \cuc{
                ∀ u \ (u ∈ x \ra u ∈ y) \\
                ∀ u \ (u ∈ y \ra u ∈ z)
              }
            $
          },
          label = {04lc9},
          tab = 1,
        }
      \step{
        assume,
        fml = {$x ⊆ y ⊆ z$},
        label = {8hjjr},
      }
    \end{prf}
    \item
    \begin{prf}
      \step{
        show,
        by = {7lu34, Axm_ext},
        fml = {$x = y$},
      }
        \step{
          by = {0fh49},
          fml = {$∀ u \ (u ∈ x \lra u ∈ y)$},
          label = {7lu34},
          tab = 1,
        }
        \step{
          by = {d0fkc, Dfn_Sbc},
          fml = {
            $
              \cuc{
                ∀ u \ (u ∈ x \ra u ∈ y) \\
                ∀ u \ (u ∈ y \ra u ∈ x)
              }
            $
          },
          label = {0fh49},
          tab = 1,
        }
      \step{
        assume,
        fml = {$x ⊆ y ⊆ x$},
        label = {d0fkc},
      }
    \end{prf}
  \end{thmlist}
\end{prp}


\begin{prp}
  \begin{thmlist}
    \item \mylabel{Thm_Psbc_is_irreflRel}
    $
      ¬ (x ⊂ x)
    $
    \item \mylabel{Thm_psbc_has_less_elem}
    $
      x ⊂ y \lra
      \cuc{
        x ⊆ y \\
        ∃ u \ (u ∈ y ∧ u ∉ x)
      }
    $
    \item \mylabel{Thm_psbc_of_sbc_is_psbc}
    $
      x ⊂ y ⊆ z \ra x ⊂ z
    $
    \item \mylabel{Thm_sbc_of_psbc_is_psbc}
    $
      x ⊆ y ⊂ z \ra x ⊂ z
    $
    \item \mylabel{Thm_psbc_of_psbc_is_psbc}
    $
      x ⊂ y ⊂ z \ra x ⊂ z
    $
    \item \mylabel{Thm_sbc_eqv_psbc_or_Eq}
    $
      x ⊆ y \lra x ⊂ y ∨ x = y
    $
  \end{thmlist}
  \tcblower
  \begin{thmlist}
    \item
    \begin{prf}
      \step{
        show,
        by = {5cn7h, Dfn_Psbc},
        fml = {$¬ (x ⊂ x)$},
      }
        \step{
          by = {i1ilq},
          fml = $¬ (x ⊆ x ∧ x ≠ x)$,
          label = {5cn7h},
          tab = 1,
        }
        \step{
          fml = {$x = x$},
          label = {i1ilq},
          tab = 1,
        }
    \end{prf}
    \item
    \begin{prf}
      \step{
        show,
        fml = {
          $
            \rx{\cuc{
              x ⊆ y \\
              ∃ u \ (u ∈ y ∧ u ∉ x)
            }}
            \ra x ⊂ y
          $
        },
      }
        \step{
          show,
          by = {mo0ms, m75gb},
          fml = {$x ⊂ y$},
          tab = 1.
        }
          \step{
            by = {bvdxl, xrjl8},
            fml = {$x ≠ y$},
            label = {m75gb},
            tab = 2,
          }
          \step{
            fml = {$x = y \ra ¬ ∃ u \ (u ∈ y ∧ u ∉ x)$},
            label = {xrjl8},
            tab = 2,
          }
        \step{
          assume,
          fml = {$x ⊆ y$},
          label = {mo0ms},
          tab = 1,
        }
        \step{
          assume,
          fml = {$∃ u \ (u ∈ y ∧ u ∉ x)$},
          label = {bvdxl},
          tab = 1,
        }
      \step{
        show,
        fml = {
          $
            \rx{x ⊂ y} \ra
            \cuc{
              x ⊆ y \\
              ∃ u \ (u ∈ y ∧ u ∉ x)
            }
          $
        },
      }
        \step{
          show,
          by = {lie67, Dfn_Sbc},
          fml = {$∃ u \ (u ∈ y ∧ u ∉ x)$},
          tab = 1,
        }
          \step{
            by = {i0gyn, gf8fg, Thm_Sbc_is_antisymRel},
            fml = {$¬ (y ⊆ x)$},
            label = {lie67},
            tab = 2,
          }
          \step{
            by = {w810y, Dfn_Psbc},
            fml = {$x ≠ y$},
            label = {gf8fg},
            tab = 2,
          }
        \step{
          by = {w810y, Dfn_Psbc},
          fml = {$x ⊆ y$},
          label = {i0gyn},
          tab = 1,
        }
        \step{
          assume,
          fml = {$x ⊂ y$},
          label = {w810y},
          tab = 1,
        }
    \end{prf}
    \item
    \begin{prf}
      \step{
        show,
        by = {bjai4, xmb4n, Thm_psbc_has_less_elem},
        fml = {$x ⊂ z$},
      }
        \step{
          show,
          by = {slopv, nor9n},
          fml = {$∃ u \ (u ∈ z ∧ u ∉ x)$},
          label = {xmb4n},
          tab = 1,
        }
          \step{
            by = {zko72, Dfn_Sbc},
            fml = {$u ∈ y \ra u ∈ z$},
            label = {nor9n},
            tab = 2,
          }
          \step{
            by = {zko72, Thm_psbc_has_less_elem},
            fml = {$∃ u \ (u ∈ y ∧ u ∉ x)$},
            label = {slopv},
            tab = 2,
          }
        \step{
          show,
          by = {o2zw9, Thm_Sbc_is_transRel},
          fml = {$x ⊆ z$},
          label = {bjai4},
          tab = 1,
        }
          \step{
            by = {zko72, Dfn_Psbc},
            fml = {$x ⊆ y ⊆ z$},
            label = {o2zw9},
            tab = 2,
          }
      \step{
        assume,
        fml = {$x ⊂ y ⊆ z$},
        label = {zko72},
      }
    \end{prf}
    \item
    \begin{prf}
      \step{
        show,
        by = {94hb6, novoe, Thm_psbc_has_less_elem},
        fml = {$x ⊂ z$},
      }
        \step{
          show,
          by = {9emdq, 4im8d},
          fml = {$∃ u \ (u ∈ z ∧ u ∉ x)$},
          label = {novoe},
          tab = 1,
        }
          \step{
            by = {naqn1, Dfn_Sbc},
            fml = {$u ∈ x \ra u ∈ y$},
            label = {4im8d},
            tab = 2,
          }
          \step{
            by = {naqn1, Thm_psbc_has_less_elem},
            fml = {$∃ u \ (u ∈ z ∧ u ∉ y)$},
            label = {9emdq},
            tab = 2,
          }
        \step{
          show,
          by = {5jt5y, Thm_Sbc_is_transRel},
          fml = {$x ⊆ z$},
          label = {94hb6},
          tab = 1,
        }
          \step{
            by = {naqn1, Dfn_Psbc},
            fml = {$x ⊆ y ⊆ z$},
            label = {5jt5y},
            tab = 2,
          }
      \step{
        assume,
        fml = {$x ⊆ y ⊂ z$},
        label = {naqn1},
      }
    \end{prf}
    \item
    \begin{prf}
      \step{
        show,
        by = {ifxfr, Thm_psbc_of_sbc_is_psbc},
        fml = {$x ⊂ z$},
      }
        \step{
          by = {1vtkz, Dfn_Psbc},
          fml = {$x ⊂ y ⊆ z$},
          label = {ifxfr},
          tab = 1,
        }
      \step{
        assume,
        fml = {$x ⊂ y ⊂ z$},
        label = {1vtkz},
      }
    \end{prf}
    \item
    \begin{prf}
      \step{
        show,
        by = {f117i, 60v5g},
        fml = {$x ⊆ y \lra x ⊂ y ∨ x = y$},
      }
        \step{
          show,
          by = {qc1h8, z3e3y},
          fml = {$\sqc{x ⊆ y ∧ x ≠ y \\ x ⊆ y ∧ x = y} \lra x ⊂ y ∨ x = y$},
          label = {60v5g},
          tab = 1,
        }
          \step{
            by = {Dfn_Psbc},
            fml = {$x ⊆ y ∧ x ≠ y \lra x ⊂ y$},
            label = {z3e3y},
            tab = 2,
          }
          \step{
            show,
            by = {mu0eu, zimip},
            fml = {$x ⊆ y ∧ x = y \lra x = y$},
            label = {qc1h8},
            tab = 2,
          }
            \step{
              fml = {$x ⊆ y ∧ x = y \ra x = y$},
              label = {zimip},
              tab = 3,
            }
            \step{
              by = {Thm_Sbc_is_reflRel},
              fml = {$x = y \ra x ⊆ y ∧ x = y$},
              label = {mu0eu},
              tab = 3,
            }
        \step{
          fml = {$x ⊆ y \lra \sqc{x ⊆ y ∧ x ≠ y \\ x ⊆ y ∧ x = y}$},
          label = {f117i},
          tab = 1,
        }
    \end{prf}
  \end{thmlist}
\end{prp}


\begin{dfn}[Dfn_cls]
  $u ∈ \cls{v}{𝜙} \lra 𝜙 [u / v] ∧ \M{u}$
\end{dfn}


\begin{prp}
  \begin{thmlist}
    \item 
  \end{thmlist}
\end{prp}


\begin{dfn}
  \begin{thmlist}
    \item 
    \mylabel{Dfn_emp}
    $∅ ≔ \cls{u}{u ≠ u}$
    \item 
    \mylabel{Dfn_univ}
    $𝐔 ≔ \cls{u}{u = u}$
    \item 
    \mylabel{Dfn_russ}
    $𝐑𝐮 ≔ \cls{u}{u ∉ u}$
  \end{thmlist}
\end{dfn}


\begin{prp}
  \begin{thmlist}
    \item 
    \mylabel{Thm_nothing_is_elem_of_emp}
    $u ∉ ∅$
    \item 
    \mylabel{Thm_set_is_elem_of_univ}
    $\M{u} \ra u ∈ 𝐔$
    \item 
    \mylabel{Thm_emp_is_sbc_of_everything}
    $∅ ⊆ x$
    \item 
    \mylabel{Thm_everything_is_sbc_of_univ}
    $x ⊆ 𝐔$
  \end{thmlist}
  \tcblower
  \begin{thmlist}
    \item 
    \begin{prf}
      \step{
        show,
        by = {nfxts, 58ln4},
        fml = {$u ∉ ∅$},
      }
        \step{
          by = {Dfn_emp, Dfn_cls},
          fml = {$u ∈ ∅ \ra u ≠ u$},
          label = {58ln4},
          tab = 1,
        }
        \step{
          fml = {$u = u$},
          label = {nfxts},
          tab = 1,
        }
    \end{prf}
    \item 
    \begin{prf}
      \step{
        show,
        by = {70eif, 9bmg1},
        fml = {$\M{u} \ra u ∈ 𝐔$},
      }
        \step{
          by = {Dfn_univ, Dfn_cls},
          fml = {$u = u ∧ \M{u} \ra u ∈ 𝐔$},
          label = {9bmg1},
          tab = 1,
        }
        \step{
          fml = {$\M{u} \ra u = u ∧ \M{u}$},
          label = {70eif},
          tab = 1,
        }
    \end{prf}
    \item 
    \begin{prf}
      \step{
        show,
        by = {ysc2o, Dfn_Sbc},
        fml = {$∅ ⊆ x$},
      }
        \step{
          by = {Thm_nothing_is_elem_of_emp},
          fml = {$u ∈ ∅ \ra u ∈ x$},
          label = {ysc2o},
          tab = 1,
        }
    \end{prf}
    \item 
    \begin{prf}
      \step{
        show,
        by = {xnknt, idu1u, Dfn_Sbc},
        fml = {$x ⊆ 𝐔$},
      }
        \step{
          by = {Thm_set_is_elem_of_univ},
          fml = {$\M{x} \ra x ∈ 𝐔$},
          label = {idu1u},
          tab = 1,
        }
        \step{
          by = {Thm_elem_is_set},
          fml = {$u ∈ x \ra \M{x}$},
          label = {xnknt},
          tab = 1,
        }
    \end{prf}
  \end{thmlist}
\end{prp}


\begin{thm}
  $\Pr{𝐑𝐮}$
  \tcblower
  \begin{prf}
    \step{
      show,
      by = {4qtca, Dfn_Pr},
      fml = {$\Pr{𝐑𝐮}$},
    }
      \step{
        show,
        by = {2uwvk, f86im},
        fml = {$¬ \M{𝐑𝐮}$},
        label = {4qtca},
        tab = 1,
      }
        \step{
          by = {Dfn_russ, Dfn_cls},
          fml = {$𝐑𝐮 ∉ 𝐑𝐮 ∧ \M{𝐑𝐮} \ra 𝐑𝐮 ∈ 𝐑𝐮$},
          label = {f86im},
          tab = 2,
        }
        \step{
          show,
          by = {rw1xn},
          fml = {$𝐑𝐮 ∉ 𝐑𝐮$},
          label = {2uwvk},
          tab = 2,
        }
          \step{
            by = {7au8f},
            fml = {$𝐑𝐮 ∈ 𝐑𝐮 \ra 𝐑𝐮 ∉ 𝐑𝐮$},
            label = {rw1xn},
            tab = 3,
          }
          \step{
            by = {Dfn_russ, Dfn_cls},
            fml = {$u ∈ 𝐑𝐮 \ra u ∉ u$},
            label = {7au8f},
            tab = 3,
          }
  \end{prf}
\end{thm}


\begin{dfn}
  \begin{thmlist}
    \item
    \mylabel{Dfn_cup}
    $
      x ∪ y ≔ \cls{u}{u ∈ x ∨ u ∈ y}
    $
    \item
    \mylabel{Dfn_cap}
    $
      x ∩ y ≔ \cls{u}{u ∈ x ∧ u ∈ y}
    $
    \item
    \mylabel{Dfn_cdif}
    $
      x ∖ y ≔ \cls{u}{u ∈ x ∧ u ∉ y}
    $
    \item
    \mylabel{Dfn_cmpl}
    $
      x^∁ = \cls{u}{u ∉ x}
    $
  \end{thmlist}
\end{dfn}
